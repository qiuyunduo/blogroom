<!DOCTYPE html>
<!-- saved from url=(0041)http://www.welcom212.com/wordpress/?p=393 -->
<html><head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=10,IE=9,IE=8">
<title>servlet中destory方法的误解 – 212博客</title>

	<link href="../css/basestyle.css" rel="stylesheet" id="style-css" media="all">
	<link href="../css/pure-highlight.css" rel="stylesheet">
	<link href="../css/default.css" rel="stylesheet">
	<link href="../css/login-register.css" rel="stylesheet">

	<script type="text/javascript" src="../js/wp-emoji-release.min.js"></script>
	<script type="text/javascript" src="../js/jquery-3.2.1.min.js"></script>
	<script type="text/javascript" src="../js/jquery.validate.min.js"></script>
	<script type="text/javascript" src="../js/myjs/mybase.js"></script>

	<script type="text/javascript" src="../js/highlight.pack.js"></script>
	<script type="text/javascript" src="../js/wp-embed.min.js"></script>

	<script type="text/javascript" src="../js/myjs/login-register.js"></script>

	<script type="text/javascript" src="../js/geturlParam.js"></script>
	<script type="text/javascript" src="../js/myjs/article.js"></script>
	<script type="text/javascript" src="../js/myjs/loadright.js"></script>
	<script type="text/javascript" src="../js/myjs/searchArticles.js"></script>



</head>
<body class="post-template-default single single-post postid-393 single-format-standard">

<header id="header" class="header">
	<div class="container-inner">
		<div class="yusi-logo">
			<a href="/BlogRoom/apps/index.html">
				<h1>
					<span class="yusi-mono">博客屋</span>
					<span class="yusi-bloger">欢迎您</span>
				</h1>
			</a>
			<div style="float: right;padding-top: 40px;font-size: 20px" id="log_reg">
				<a href="javascript:;" data-pop="login"><span style="color: white">登录</span></a>
				&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;
				<a href="javascript:;" data-pop="register"><span style="color: white">注册</span></a>
			</div>

			<div style="float: right;padding-top: 40px;margin-right:80px;display: none" id="log_user">
				<img id="log_img" src="../images/default.jpg" style="width: 30px;height: 30px;border-radius:50%">
				<i id="i_icon" class="fa fa-chevron-up" style="color:#ffffff;"></i>

				<div style="display:none;margin:5px 0;float:left;width:80px;height:150px;border:1px solid black;background-color:#51b485;position: absolute;z-index: 999" id="log_menu">
					<div ><a target="_blank" style="color: white;" href="#" id="myblog">我的博客</a></div>
					<div ><a target="_blank" style="color: white;" href="/BlogRoom/apps/userInfo.html">个人中心</a></div>
					<div><a class="#" target="_blank" style="color: white;">消息<span class="toolbar-newsL" style="margin-left: 4px; display: none;">(2)</span></a></div>
					<div><a target="_blank" style="color: white;">反馈</a></div>
					<div><a target="_blank" style="color: white;">帮助</a></div>
					<div><a style="color: white;" href="/BlogRoom/user/quitLog">退出</a></div>
				</div>
			</div>

		</div>
	</div>
	<div id="nav-header" class="navbar">

		<ul class="nav">
			<li class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home"><a href="/BlogRoom/apps/index.html">首页</a></li>
			<li class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="javascript:;" onclick="getArticlesOfClass(1,1)">程序人生</a></li>
			<li class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="javascript:;" onclick="getArticlesOfClass(2,1)">编程</a></li>
			<li class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="javascript:;" onclick="getArticlesOfClass(3,1)">前端</a></li>
			<li class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="javascript:;" onclick="getArticlesOfClass(4,1)">数据库</a></li>
			<li class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="javascript:;" onclick="getArticlesOfClass(5,1)">算法</a></li>
			<li class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="javascript:;" onclick="getArticlesOfClass(6,1)">其他</a></li>

			<li style="float:right;">
				<div class="toggle-search active" style="width: 50px;"><a id="searchA"><i class="fa fa-search fa-lg"></i></a></div>
				<div class="search-expand" style="display: block;">
					<form method="get" class="searchform themeform" onkeydown="if(event.keyCode==13)return false;">
						<div>
							<input type="text" id="keywords" value="" class="search" name="s" placeholder="search...">
						</div>
					</form>
				</div>
			</li>
		</ul><div class="screen-mini"><button data-type="screen-nav" class="btn btn-inverse screen-nav"><i class="fa fa-list"></i></button></div>
	</div>


</header>

<section class="container"><div class="speedbar">
				<div class="toptip"><strong class="text-success"><i class="fa fa-volume-up"></i> </strong> </div>
	</div>
	<div class="content-wrap">
	<div class="content">

				<header class="article-header">
			<h1 class="article-title"><a href="#" id="article_title">文章标题</a></h1>
			<div class="meta">
				<span id="mute-category" class="muted"><i class="fa fa-list-alt"></i><span id="article_keyword" style="padding-left: 10px"></span></span>				<span class="muted"><i class="fa fa-user"></i> <a href="#" id="article_author">匿名</a></span>
				<time class="muted"><i class="fa fa-clock-o"></i> <span id="article_time">1个月前 (07-09)</span></time>
				<span class="muted"><i class="fa fa-comments-o"></i> <a><span id="comment_count">0</span>评论</a></span>							</div>
		</header>
		<article class="article-content" id="article_content">
			<p >最近学习servlet的过程中发现了一个很怪的问题， 百度上面搜索这个问题也几乎都是错误的理解。那就是有关servlet在什么时候摧毁，回答很多是服务器关闭或者执行destory方法。服务器关闭servlet肯定会销毁，但是执行destory并不会销毁servlet。</p>
<p>我尝试手动调用destory方法。然后再去调用GET方法。发现还是会执行get， 也就是说执行了destory方法并不会销毁servlet。我就怀疑是不是服务器重新创建了一个servlet。然后我继续测试</p>
<p>用ajax测试的结果：</p>
<pre><code class="hljs css">
本次请求的方式为：<span class="hljs-selector-tag">PUT</span>
本次请求的方式为：<span class="hljs-selector-tag">GET</span>
本次请求的方式为：<span class="hljs-selector-tag">DESTORY</span>
<span class="hljs-selector-tag">servlet</span><span class="hljs-selector-class">.IndexServlet</span>@<span class="hljs-keyword">36cfac98</span>
正在销毁servlet。。。
本次请求的方式为：GET
本次请求的方式为：DESTORY
servlet.IndexServlet@<span class="hljs-number">36</span>cfac98
正在销毁servlet。。。
</code></pre>
<p>打印了servlet的地址，发现前后是同一个servlet。所以servlet并没有销毁。</p>
<p>断点跟踪发现super.destory()是一个空方法。</p>
<pre><code class="lang-JAVA hljs">
<span class="hljs-comment">//方法写在GenericServlet类中。</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">destroy</span><span class="hljs-params">()</span> </span>{
}
</code></pre>
<p>也就是这个方法并不是真正销毁servlet。所以我的理解是：</p>
<p>服务器关闭或者销毁servlet的时候会执行destory方法告知使用者，我要销毁这个servlet了。而我们手动执行destory方法并不会真的销毁servlet。</p>
<p>如理解错误望告知！谢谢。</p>
<p>转载请注明：<a href="http://www.welcom212.com/wordpress" data-original-title="" title="">212博客</a> » <a href="http://www.welcom212.com/wordpress/?p=393" data-original-title="" title="">servlet中destory方法的误解</a></p>

      
<div class="article-social">
			<a href="javascript:;" data-action="ding" data-id="393" id="Addlike" class="action" data-original-title="" title=""><i class="fa fa-heart-o"></i>喜欢 (<span class="count">0</span>)</a>	
</div>
	</article>



			<div id="respond" class="no_webshot">
		<form id="commentform">

		<div class="comt-title">
			<div class="comt-avatar pull-left">
			</div>
			<div class="comt-author pull-left">
			发表我的评论			</div>
			<a id="cancel-comment-reply-link" class="pull-right" href="javascript:;">取消评论</a>
		</div>
		
		<div class="comt">
			<input type="hidden" name="commentArticleId" id="commentArticleId">
			<input type="hidden" name="commentAuthorId" id="commentAuthorId">
			<div class="comt-box">
				<textarea placeholder="写点什么..." class="input-block-level comt-area" name="commentContent" id="comment" cols="100%" rows="3" tabindex="1"></textarea>
				<div class="comt-ctrl">
					<input class="btn btn-primary pull-right" type="button" id="addCommentBtn" tabindex="5" value="提交评论"/>

					<div class="comt-tips pull-right">
					<div class="comt-tip comt-error" style="display: none;">#</div>
					</div>


				</div>
			</div>
		</div>
	</form>
	</div>



		<div id="postcomments">
			<div id="comments">
				<i class="fa fa-comments-o"></i>
			</div>
			<ol class="commentlist" id="comment-content">
				<!--所有评论-->
			</ol>
		</div>
	</div>
	</div>


	<aside class="sidebar">

		<div class="widget widget_recent_entries">
			<div class="title"><h2>时尚博文</h2></div>
			<ul id="goodarticle">
				<!--时尚博文-->
				<img src="../images/loading.gif" style="width: 100% " >
			</ul>
		</div>
		<div class="widget widget_archive"><div class="title"><h2>时尚博主</h2></div>
			<ul id="goodauthor">
				<!--时尚博主-->
				<img src="../images/loading.gif" style="width: 100% ">
			</ul>
		</div>



		<div class="widget widget_meta"><div class="title"><h2>友情链接</h2></div>
			<ul>
				<li><a href="#">思衡网络</a></li>
				<li><a href="http://www.welcom212.com/wordpress/wp-login.php">3DST技术网</a></li>
				<li><a href="#">文章<abbr title="Really Simple Syndication">×××个人博客</abbr></a></li>
				<li><a href="#">评论<abbr title="Really Simple Syndication">RSS</abbr></a></li>
				<li>
					<div id="bdshare" class="bdshare_t bds_tools_32 get-codes-bdshare"><a class="bds_tsina"></a><a class="bds_qzone"></a><a class="bds_tqq"></a><a class="bds_renren"></a><span class="bds_more"></span><a class="shareCount"></a></div>
					<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=6574585" ></script>
					<script type="text/javascript" id="bdshell_js"></script>
					<script type="text/javascript">
                        document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000)
					</script>
					<!-- Baidu Button END -->
					<a href="/" class="weixin"> </a>
				</li>
			</ul>
		</div>

	</aside>
</section>


<footer class="footer">
	<div class="footer-inner">
		<div class="copyright pull-left">
			Design by DanceSmile <a href="index.html">博客屋</a> 保留所有权利
			<a href="http://www.miitbeian.gov.cn/" target="_blank">蜀ICP备11002373号-1</a> <a href="/">网站统计</a>
		</div>
		<div class="trackcode pull-right">
			<a href="/BlogRoom/apps/about.html" target="_blank">关于博客屋</a>
			<a href="/BlogRoom/apps/contact.html" target="_blank">联系我们</a>
		</div>
	</div>
</footer>





<div class="rollto" style="display: none;"><button class="btn btn-inverse" data-type="totop" title="回顶部"><i class="fa fa-arrow-up"></i></button><button class="btn btn-inverse" data-type="torespond" title="发评论"><i class="fa fa-comment-o"></i></button></div>

<!--登录-->
<div class="pop" id="login" style="display: none;">
	<div class="pop-wp" style="left: 50%;">
		<a href="http://yuedu.fm/article/525/#" rel="nofollow" title="关闭" class="pop-close">×</a>
		<div class="pop-title">登录</div>

		<form id="loginForm" method="post" action="/BlogRoom/user/login" novalidate="novalidate">
			<div class="account-form">
				<div>
					<i class="fa fa-user" aria-hidden="true"></i>
					<input type="text" name="lusername" class="account-input" placeholder="用户名">
					<div id="error_tip_lusername" class="error-tip"></div>
				</div>

				<div class="account-line"></div>

				<div>
					<i class="fa fa-lock" aria-hidden="true"></i>
					<input type="password" name="lpassword" class="account-input" placeholder="密码">
					<div id="error_tip_lpassword" class="error-tip"></div>
				</div>
			</div>
			<div class="account-other">
				<span class="fr"><a href="http://yuedu.fm/retrieve/" class="red-link" target="_blank">忘记密码</a></span>
				<label><input type="checkbox" value="1" name="nextauto"> 下次自动登录</label>
			</div>
			<button type="submit" class="account-btn">登 录</button>
		</form>
	</div>
</div>
<!--注册-->
<div class="pop" id="register" style="display:none;">
	<div class="pop-wp">
		<a href="http://yuedu.fm/article/525/#" rel="nofollow" title="关闭" class="pop-close">×</a>
		<div class="pop-title">注册</div>
		<form id="registerForm" method="post" action="/BlogRoom/user/register" novalidate="novalidate">
			<div class="account-form">
				<div>
					<i class="fa fa-user" aria-hidden="true"></i>
					<input type="text" name="userName" class="account-input" placeholder="昵称">
					<div id="error_tip_userName" class="error-tip"></div>
				</div>
				<div class="account-line"></div>
				<div>
					<i class="fa fa-envelope" aria-hidden="true"></i>
					<input type="text" name="userEmail" class="account-input" placeholder="邮箱">
					<div id="error_tip_userEmail" class="error-tip"></div>
				</div>
				<div class="account-line"></div>
				<div>
					<i class="fa fa-lock" aria-hidden="true"></i>
					<input type="password" name="userPwd" id="rpassword" class="account-input" placeholder="密码">
					<div id="error_tip_userPwd" class="error-tip"></div>
				</div>
				<div class="account-line"></div>
				<div>
					<i class="fa fa-lock" aria-hidden="true"></i>
					<input type="password" name="repassword" class="account-input" placeholder="确认密码">
					<div id="error_tip_repassword" class="error-tip"></div>
				</div>
			</div>
			<div class="account-other">
				<label><input type="checkbox" name="angree" id="angree" value="1"> 我已认真阅读并同意博客屋的<a href="http://yuedu.fm/agreement/" class="red-link" target="_blank">《使用协议》</a></label>
				<div id="error_tip_angree" class="error-tip"></div>
			</div>
			<button type="submit" class="account-btn">注册</button>
		</form>
	</div>
</div>
</body></html>